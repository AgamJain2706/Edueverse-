!function(){var e={23523:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)},r=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AnswersWidget=void 0;var c=n(89574);i(n(89574),t);var l=function(){function e(){var e=this;this.sdkMemory={location:{url:window.location.href,title:document.title}},this.getContactOptionsRequests=[],this.onChatMessageReceivedCallbacks=[],this.onChatMessageSentCallbacks=[],this.onChatStartedCallbacks=[],this.viewVisibleCallbacks=[],this.eventListenerCallbacks=[],this.chatTicketId="",this.init=function(t,n){e.setFrame(t),e.setListener(),t.src="https://".concat(n.tenant,".wixanswers.com/apps/widget/v1/").concat(n.tenant,"/").concat(n.widgetId,"/view/").concat(n.locale)},this.cleanup=this.removeListener,this.addEventListener=function(t){e.eventListenerCallbacks.push(t)},this.addHtmlToHomePageHeader=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_CUSTOM_HOME_PAGE_HEADER,data:{headerHtml:t}}),e.sdkMemory.customHomePageHeader=t},this.addHtmlToKbHeader=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_CUSTOM_KB_HEADER,data:{headerHtml:t}}),e.sdkMemory.customKbHeader=t},this.featuredArticlesSearch=function(t){e.sdkMemory.featuredArticleTerm=t,e.sendScopedPostMessage({type:c.WidgetMessageType.FEATURED_ARTICLE_SEARCH,data:{term:t}})},this.fillContactForm=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.FILL_CONTACT_FORM,data:{formData:t}}),e.sdkMemory.contactFormData=t},this.getContactOptions=function(){return e.sendScopedPostMessage({type:c.WidgetMessageType.CONTACT_OPTIONS_REQUEST,data:{}}),new Promise((function(t){e.getContactOptionsRequests.push(t)}))},this.goToCallback=function(){e.sdkMemory.goToCallback=!0,e.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_CALLBACK,data:{}})},this.goToCategory=function(t){e.sdkMemory.goToCategoryId=t,e.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_CATEGORY,data:{categoryId:t}})},this.goToChat=function(t){e.sdkMemory.goToChat=t||!0,e.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_CHAT,data:{ticketId:t}})},this.goToContact=function(){e.sdkMemory.goToContact=!0,e.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_CONTACT,data:{}})},this.identifyUser=function(t,n){e.sendScopedPostMessage({type:c.WidgetMessageType.IDENTIFY_USER,data:{userData:t,autofill:n}}),e.sdkMemory.user=t,e.sdkMemory.autofill=n},this.initiateChatbot=function(t,n,o){t&&n&&(e.sdkMemory.chatbot={schema:t,callback:n,title:o},e.sendScopedPostMessage({type:c.WidgetMessageType.CHATBOT_INITIATED,data:{schema:t,title:o}}))},this.preventReopeningChat=function(t){void 0===t&&(t=!0),e.sendScopedPostMessage({type:c.WidgetMessageType.PREVENT_REOPENING_CHAT,data:{prevent:t}}),e.sdkMemory.preventReopeningChat=t},this.sendChatMessage=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SEND_CHAT_MESSAGE,data:t}),e.sdkMemory.chatMessage=t},this.setChatSubject=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_CHAT_SUBJECT,data:{subject:t}}),e.sdkMemory.chatSubject=t},this.setCustomFields=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_CUSTOM_FIELDS,data:{customFields:t}}),e.sdkMemory.customFields=t},this.setCustomFieldsConfiguration=function(t){e.sdkMemory.customFieldsConfigurationData=t,e.sendScopedPostMessage({type:c.WidgetMessageType.SET_CUSTOM_FIELDS_CONFIGURATION,data:{customFieldsConfigurationData:t}})},this.setFeaturedArticles=function(t){e.sdkMemory.featuredArticleIds=t,e.sendScopedPostMessage({type:c.WidgetMessageType.SET_FEATURED_ARTICLES,data:{articleIds:t}})},this.setLabels=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_LABELS,data:{labelIds:t}}),e.sdkMemory.labelIds=t},this.setOverrideTexts=function(t){e.sendScopedPostMessage({type:c.WidgetMessageType.SET_OVERRIDE_TEXTS,data:{overrideTexts:t}}),e.sdkMemory.overrideTexts=t},this.onChatMessageReceived=function(t){e.onChatMessageReceivedCallbacks=s(s([],e.onChatMessageReceivedCallbacks,!0),[t],!1)},this.onChatMessageSent=function(t){e.onChatMessageSentCallbacks=s(s([],e.onChatMessageSentCallbacks,!0),[t],!1)},this.onChatStarted=function(t){e.onChatStartedCallbacks=s(s([],e.onChatStartedCallbacks,!0),[t],!1),e.chatTicketId&&t(e.chatTicketId)},this.onViewVisible=function(t){e.viewVisibleCallbacks.push(t)},this.sendScopedPostMessage=function(t){var n;(null===(n=e.frame)||void 0===n?void 0:n.contentWindow)&&e.sendPostMessage({__ansWidget:t})},this.sendPostMessage=function(t){var n;(null===(n=e.frame)||void 0===n?void 0:n.contentWindow)&&e.frame.contentWindow.postMessage(t,"*")},this.listener=function(t){return r(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return this.isMessageFromFrame(t)?[4,this.handleFrameMessage(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}return e.prototype.goToArticle=function(e){this.sdkMemory.goToArticleId=e,this.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_ARTICLE,data:{articleId:e}})},e.prototype.goToChatList=function(){this.sdkMemory.goToChatList=!0,this.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_CHAT_LIST,data:{}})},e.prototype.goToHome=function(){this.sdkMemory.goToHome=!0,this.sendScopedPostMessage({type:c.WidgetMessageType.GO_TO_HOME,data:{}})},e.prototype.sendNotification=function(){this.sendScopedPostMessage({type:c.WidgetMessageType.SEND_NOTIFICATION,data:{}})},e.prototype.setFrame=function(e){this.frame=e},e.prototype.handleFrameMessage=function(e){return r(this,void 0,void 0,(function(){var t,n;return a(this,(function(o){switch(o.label){case 0:switch(t=e.data.__ansWidget,t.type){case c.WidgetMessageType.CHAT_MESSAGE_RECEIVED:return[3,1];case c.WidgetMessageType.CHAT_MESSAGE_SENT:return[3,2];case c.WidgetMessageType.CHATBOT_USER_INPUT:return[3,3];case c.WidgetMessageType.CONTACT_OPTIONS_RESPONSE:return[3,5];case c.WidgetMessageType.ON_CHAT_STARTED:return[3,6];case c.WidgetMessageType.VIEW_LOADED:return[3,7];case c.WidgetMessageType.VIEW_VISIBLE:return[3,8];case c.WidgetMessageType.WIDGET_EVENT:return[3,9]}return[3,10];case 1:return this.onChatMessageReceivedCallbacks.forEach((function(e){return e(t.data)})),[3,10];case 2:return this.onChatMessageSentCallbacks.forEach((function(e){return e(t.data)})),[3,10];case 3:return this.sdkMemory.chatbot&&this.sdkMemory.chatbot.callback?[4,this.sdkMemory.chatbot.callback(t.data.value,t.data.type,t.data.stepId)]:[2];case 4:return n=o.sent(),this.sendScopedPostMessage({type:c.WidgetMessageType.CHATBOT_NEXT_STEP,data:{schema:n}}),[3,10];case 5:return this.getContactOptionsRequests.forEach((function(e){return e(t.data.contactOptions)})),[3,10];case 6:return this.onChatStartedCallbacks.forEach((function(e){return e(t.data.ticketId)})),[3,10];case 7:return this.onViewLoaded(),[3,10];case 8:return this.viewVisibleCallbacks.forEach((function(e){return e()})),[3,10];case 9:return this.eventListenerCallbacks.forEach((function(e){return e(t.data.event)})),[3,10];case 10:return[2]}}))}))},e.prototype.isMessageFromFrame=function(e){return this.frame&&e.source===this.frame.contentWindow},e.prototype.isAnswersMessage=function(e){var t;return!!(null===(t=e.data)||void 0===t?void 0:t.__ansWidget)},e.prototype.onViewLoaded=function(){var e=this.sdkMemory,t=e.goToArticleId,n=e.location,o=e.focusState,i=e.isOpen,r=e.goToCategoryId,a=e.goToCallback,s=e.featuredArticleTerm,l=e.featuredArticleIds,d=e.goToContact,h=e.goToChat,u=e.goToChatList,p=e.labelIds,f=e.user,g=e.chatMessage,T=e.overrideTexts,m=e.customHomePageHeader,C=e.customKbHeader,E=e.customFields,_=e.contactFormData,y=e.preventReopeningChat,I=e.chatbot,S=e.customFieldsConfigurationData,A=e.chatSubject,v=e.autofill,M=e.goToHome;this.sendScopedPostMessage({type:c.WidgetMessageType.LOCATION_CHANGED,data:n}),this.sendScopedPostMessage({type:c.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:!!o}}),this.sendScopedPostMessage({type:c.WidgetMessageType.WIDGET_OPEN,data:{isOpen:!!i}}),t&&this.goToArticle(t),r&&this.goToCategory(r),s&&this.featuredArticlesSearch(s),l&&this.setFeaturedArticles(l),d&&this.goToContact(),h&&("string"==typeof h?this.goToChat(h):this.goToChat()),u&&this.goToChatList(),a&&this.goToCallback(),M&&this.goToHome(),p&&this.setLabels(p),f&&this.identifyUser(f,v),g&&this.sendChatMessage(g),T&&this.setOverrideTexts(T),m&&this.addHtmlToHomePageHeader(m),C&&this.addHtmlToKbHeader(C),E&&this.setCustomFields(E),_&&this.fillContactForm(_),y&&this.preventReopeningChat(y),I&&this.sendScopedPostMessage({type:c.WidgetMessageType.CHATBOT_INITIATED,data:{schema:I.schema,title:I.title}}),S&&this.setCustomFieldsConfiguration(S),A&&this.setChatSubject(A)},e.prototype.setListener=function(){window.addEventListener("message",this.listener,!1)},e.prototype.removeListener=function(){window.removeEventListener("message",this.listener)},e}();t.AnswersWidget=l},66133:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StepTypes=void 0,function(e){e.TEXT="text",e.BUTTON="button",e.CONTACT="contact",e.LIVE_CHAT="live-chat"}(t.StepTypes||(t.StepTypes={}))},87978:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46417:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},61521:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,function(e){e.OPEN="OPEN",e.CLOSE="CLOSE",e.FIRST_OPEN="FIRST_OPEN",e.HOME_VIEW="HOME_VIEW",e.CATEGORY_VIEW="CATEGORY_VIEW",e.FEATURED_ARTICLE_CLICK="FEATURED_ARTICLE_CLICK",e.HOME_CATEGORY_CLICK="HOME_CATEGORY_CLICK",e.CATEGORY_LIST_CLICK="CATEGORY_LIST_CLICK",e.ARTICLE_LIST_CLICK="ARTICLE_LIST_CLICK",e.ARTICLE_VIEW="ARTICLE_VIEW",e.ARTICLE_FEEDBACK_VOTE="ARTICLE_FEEDBACK_VOTE",e.VOTE_FOR_FEATURE="VOTE_FOR_FEATURE",e.VOTE_KNOWN_ISSUE="VOTE_KNOWN_ISSUE",e.SEARCH_IGNORED="SEARCH_IGNORED",e.SEARCH_NO_RESULT="SEARCH_NO_RESULT",e.SEARCH_RESULT_CLICK="SEARCH_RESULT_CLICK",e.SEARCH="SEARCH",e.SEARCH_RESULT="SEARCH_RESULT",e.CHAT_VIEW="CHAT_VIEW",e.CHAT_CLOSED="CHAT_CLOSED",e.CHAT_STARTED="CHAT_STARTED",e.CHAT_STARTED_SUCCESS="CHAT_STARTED_SUCCESS",e.CHAT_STARTED_FAIL="CHAT_STARTED_FAIL",e.CHAT_DEBUG="CHAT_DEBUG",e.SUBSCRIBE_USER_TIMELINE="SUBSCRIBE_USER_TIMELINE",e.SUBSCRIBE_USER_TIMELINE_SUCCESS="SUBSCRIBE_USER_TIMELINE_SUCCESS",e.SUBSCRIBE_USER_TIMELINE_FAIL="SUBSCRIBE_USER_TIMELINE_FAIL",e.SEND_CHAT_MESSAGE="SEND_CHAT_MESSAGE",e.SEND_CHAT_MESSAGE_SUCCESS="SEND_CHAT_MESSAGE_SUCCESS",e.SEND_CHAT_MESSAGE_FAIL="SEND_CHAT_MESSAGE_FAIL",e.RECEIVE_CHAT_MESSAGE="RECEIVE_CHAT_MESSAGE",e.PUBSUB_EVENT="PUBSUB_EVENT",e.CHAT_UNLOAD="CHAT_UNLOAD",e.CHAT_HIDDEN="CHAT_HIDDEN",e.CHAT_VISIBLE="CHAT_VISIBLE",e.CHAT_TIMELINE_UPDATED="CHAT_TIMELINE_UPDATED",e.CHAT_ONLINE="CHAT_ONLINE",e.CHAT_FORM_CUSTOM_FIELD_CHANGED="CHAT_FORM_CUSTOM_FIELD_CHANGED",e.SUBMIT_CHAT_FORM="SUBMIT_CHAT_FORM",e.CHAT_VIEW_CHANGED="CHAT_VIEW_CHANGED",e.GET_AUTH_TOKEN="GET_AUTH_TOKEN",e.GET_AUTH_TOKEN_SUCCESS="GET_AUTH_TOKEN_SUCCESS",e.GET_AUTH_TOKEN_FAIL="GET_AUTH_TOKEN_FAIL",e.CALLBACK_VIEW="CALLBACK_VIEW",e.CALLBACK_SUBMIT="CALLBACK_SUBMIT",e.CALLBACK_SUBMIT_SUCCESS="CALLBACK_SUBMIT_SUCCESS",e.CALLBACK_SUBMIT_FAIL="CALLBACK_SUBMIT_FAIL",e.CALLBACK_VERIFICATION_SUBMIT="CALLBACK_VERIFICATION_SUBMIT",e.CALLBACK_VERIFICATION_SUBMIT_SUCCESS="CALLBACK_VERIFICATION_SUBMIT_SUCCESS",e.CALLBACK_VERIFICATION_SUBMIT_FAIL="CALLBACK_VERIFICATION_SUBMIT_FAIL",e.RESEND_VERIFICATION="RESEND_VERIFICATION",e.RESEND_VERIFICATION_SUCCESS="RESEND_VERIFICATION_SUCCESS",e.RESEND_VERIFICATION_FAIL="RESEND_VERIFICATION_FAIL",e.CHANGE_VERIFICATION_MODE="CHANGE_VERIFICATION_MODE",e.TICKET_FORM_VIEW="TICKET_FORM_VIEW",e.TICKET_FORM_SUBMIT="TICKET_FORM_SUBMIT",e.TICKET_FORM_SUBMIT_ATTEMPT="SUBMIT_TICKET_ATTEMPT",e.TICKET_FORM_SUBMIT_SUCCESS="TICKET_FORM_SUBMIT_SUCCESS",e.TICKET_FORM_SUBMIT_FAIL="TICKET_FORM_SUBMIT_FAIL",e.TICKET_FORM_SUBMIT_VALIDATION_FAIL="TICKET_FORM_SUBMIT_VALIDATION_FAIL",e.TICKET_FORM_CAPTCHA_RESOLVED="TICKET_FORM_CAPTCHA_RESOLVED",e.TICKET_FORM_CUSTOM_FIELD_CHANGED="TICKET_FORM_CUSTOM_FIELD_CHANGED",e.CUSTOM_EVENT="CUSTOM_EVENT",e.NAVIGATION="NAVIGATION",e.FEATURED_ARTICLES_UPDATED="FEATURED_ARTICLES_UPDATED",e.OPEN_MODALS_CHANGE="OPEN_MODALS_CHANGE",e.CHATBOT_STEP_REACHED="CHATBOT_STEP_REACHED",e.CHATBOT_TICKET_CREATED="CHATBOT_TICKET_CREATED",e.CHATBOT_TRANSCRIPT="CHATBOT_TRANSCRIPT"}(t.EventType||(t.EventType={}))},89574:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(61521),t),i(n(75450),t),i(n(31956),t),i(n(77385),t),i(n(74646),t),i(n(87978),t),i(n(66133),t),i(n(46417),t)},75450:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetMessageType=void 0,function(e){e.IDENTIFY_USER="identify-user",e.SEND_CHAT_MESSAGE="send-chat-message",e.SET_CUSTOM_FIELDS="set-custom-fields",e.ON_CHAT_STARTED="on-chat-started",e.CHAT_MESSAGE_RECEIVED="chat-message-received",e.CHAT_MESSAGE_SENT="chat-message-sent",e.SET_CUSTOM_KB_HEADER="set-custom-kb-header",e.SET_CUSTOM_HOME_PAGE_HEADER="set-custom-home-page",e.AUTHENTICATOR_ADDED="authenticator-added",e.VIEW_LOADED="view-loaded",e.VIEW_VISIBLE="view-visible",e.AUTHENTICATION_REQUEST="authentication-request",e.AUTHENTICATION_RESPONSE="authentication-response",e.ACTIVE_CHAT_COUNT="active-chat-count",e.SET_OVERRIDE_TEXTS="set-override-texts",e.LOCATION_CHANGED="location-changed",e.GO_TO_CATEGORY="go-to-category",e.GO_TO_ARTICLE="go-to-article",e.WINDOW_FOCUS="window-focus",e.WIDGET_OPEN="widget-open",e.UPDATE_DRAG_AREA="update-drag-area",e.COLLAPSE_WIDGET="collapse-widget",e.SET_LABELS="set-labels",e.DISPLAY_IMAGE="display-image",e.CHATBOT_INITIATED="chatbot-initiated",e.CHATBOT_USER_INPUT="chatbot-user-input",e.CHATBOT_NEXT_STEP="chatbot-next-step",e.GO_TO_CONTACT="go-to-contact",e.GO_TO_CHAT="go-to-chat",e.GO_TO_CHAT_LIST="go-to-chat-list",e.GO_TO_CALLBACK="go-to-callback",e.FILL_CONTACT_FORM="fill-contact-form",e.FEATURED_ARTICLE_SEARCH="featured-article-search",e.SET_FEATURED_ARTICLES="set-featured-articles",e.WIDGET_EVENT="widget-event",e.CONTACT_OPTIONS_REQUEST="contact-options-request",e.CONTACT_OPTIONS_RESPONSE="contact-options-response",e.PREVENT_REOPENING_CHAT="prevent-reopening-chat",e.SET_CUSTOM_FIELDS_CONFIGURATION="set-custom-fields-configuration",e.SET_CHAT_SUBJECT="set-chat-subject",e.GO_TO_HOME="go-to-home",e.SEND_NOTIFICATION="send-notification"}(t.WidgetMessageType||(t.WidgetMessageType={}))},31956:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},77385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationMode=void 0,function(e){e.CALL="call",e.SMS="sms"}(t.VerificationMode||(t.VerificationMode={}))},74646:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97267:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},52884:function(e){function t(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}e.exports=function(e){return function(){var n=this,o=arguments;return new Promise((function(i,r){var a=e.apply(n,o);function s(e){t(a,i,r,s,c,"next",e)}function c(e){t(a,i,r,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},94219:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},46144:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},85131:function(e,t,n){var o=n(50286);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},50286:function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(n,o)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},53955:function(e,t,n){e.exports=n(94428)},94428:function(e){var t=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof T?t:T,r=Object.create(i.prototype),a=new L(o||[]);return r._invoke=function(e,t,n){var o=h;return function(i,r){if(o===p)throw new Error("Generator is already running");if(o===f){if("throw"===i)throw r;return O()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=v(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=d(e,t,n);if("normal"===c.type){if(o=n.done?f:u,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}(e,n,a),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",u="suspendedYield",p="executing",f="completed",g={};function T(){}function m(){}function C(){}var E={};c(E,r,(function(){return this}));var _=Object.getPrototypeOf,y=_&&_(_(b([])));y&&y!==n&&o.call(y,r)&&(E=y);var I=C.prototype=T.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(i,r,a,s){var c=d(e[i],e,r);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,o){function r(){return new t((function(t,i){n(e,o,t,i)}))}return i=i?i.then(r,r):r()}}function v(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,v(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function b(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:t,done:!0}}return m.prototype=C,c(I,"constructor",C),c(C,"constructor",m),m.displayName=c(C,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},e.awrap=function(e){return{__await:e}},S(A.prototype),c(A.prototype,a,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new A(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(I),c(I,s,"Generator"),c(I,r,(function(){return this})),c(I,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=b,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(w),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return s.type="throw",s.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:b(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var o={};!function(){"use strict";n.d(o,{Ff:function(){return me},Nz:function(){return Ce},dD:function(){return fe},rS:function(){return ge},gV:function(){return pe},Nq:function(){return ue},Kp:function(){return he}});var e,t=n(52884),i=n.n(t),r=n(46144),a=n.n(r),s=n(97267),c=n.n(s),l=n(85131),d=n.n(l),h=n(94219),u=n.n(h),p=n(53955),f=n.n(p),g="answers-widget-launcher-container",T=function(e,t){for(var n in t)t.hasOwnProperty(n)&&"string"==typeof n&&(e.style[n]=t[n])},m=function(e,t){return void 0===t&&(t=["#ffffff","#20455e"]),t.reduce((function(t,n){var o,i,r,a,s=(o=n,r=(i=function(e){return e=e.replace("#",""),{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}})(e),a=i(o),Math.max(r.r,a.r)-Math.min(r.r,a.r)+(Math.max(r.g,a.g)-Math.min(r.g,a.g))+(Math.max(r.b,a.b)-Math.min(r.b,a.b)));return s>t.diff?{diff:s,color:n}:t}),{diff:0,color:t&&t[0]}).color},C=function(e,t){return{x:e,y:t}},E=function(e,t){return C(e.x+t.x,e.y+t.y)},_=function(e,t,n,o){return{minLeft:o,maxBottom:n,maxRight:t,minTop:e}},y=function(e,t,n,o){return{minX:e,maxX:n,minY:t,maxY:o}},I=function(e,t,n,o){var i=e.getBoundingClientRect(),r=i.height,a=i.width,s=i.left,c=i.top,l=o||C(0,0),d=s-l.x,h=c-l.y;return{minX:t.minLeft-d,minY:t.minTop-h,maxX:n.x-a-t.maxRight-d,maxY:n.y-r-t.maxBottom-h}},S=function(e,t){var n=t.minX,o=t.minY,i=t.maxX,r=t.maxY,a=e.x,s=e.y;return{x:Math.min(i,Math.max(n,a)),y:Math.min(r,Math.max(o,s))}},A=function(e,t,n,o,i){void 0===i&&(i=8);var r=C(0,0),a=!1,s=function e(t){a&&(a=!1,o(t)),document.documentElement.removeEventListener("mousemove",c),document.documentElement.removeEventListener("touchmove",c),document.documentElement.removeEventListener("mouseup",e),document.documentElement.removeEventListener("touchstart",e)},c=function(e){var o,s,c,l=e.clientX-r.x,d=e.clientY-r.y,h=C(l,d);!a&&(s=(o=h).x,c=o.y,Math.sqrt(Math.pow(s,2)+Math.pow(c,2))>=i)&&(a=!0,t(h,e)),a&&n(C(l,d),e)};e.onmousedown=function(e){r=C(e.clientX,e.clientY),document.documentElement.addEventListener("mousemove",c),document.documentElement.addEventListener("touchmove",c),document.documentElement.addEventListener("mouseup",s),document.documentElement.addEventListener("touchstart",s)}},v=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/"),o=e.indexOf("Edge/");return t>0||n>0||o>0},M=function(e){return e.replace("\\'","'")},w='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill-rule="evenodd" d="M15.465.53l.007.008a1.834 1.834 0 01-.007 2.589l-4.952 4.941 4.786 4.826a1.827 1.827 0 01-.005 2.576 1.804 1.804 0 01-2.56-.007l-4.78-4.841-4.85 4.841a1.826 1.826 0 01-2.567.013 1.786 1.786 0 01-.028-2.525l.012-.013 4.885-4.897L.53 3.103A1.836 1.836 0 01.516.536 1.757 1.757 0 013.027.52l4.927 4.967L12.895.534a1.817 1.817 0 012.57-.003z"/></svg>',L="#ffffff",b=function(){function e(e){var t=this;u()(this,"props",void 0),u()(this,"openLauncherIcon",void 0),u()(this,"closeLauncherIcon",void 0),u()(this,"launcherIcon",void 0),u()(this,"launcherIconContainer",void 0),u()(this,"dragHandle",void 0),u()(this,"unreadMessagesElement",void 0),u()(this,"dragging",!1),u()(this,"hide",(function(){t.launcherIconContainer.style.display="none"})),u()(this,"show",(function(){t.launcherIconContainer.style.display="block"})),u()(this,"onDragStart",(function(){t.dragging=!0,t.props.onDragStart(),t.launcherIconContainer.style.transition=""})),u()(this,"onDragEnd",(function(){setTimeout((function(){t.dragging=!1}),1),t.props.onDragEnd(),t.launcherIconContainer.style.transition="transform .1s ease-in-out"})),u()(this,"updateContainerStyle",(function(){var e=t.props,n=e.offset;T(t.launcherIconContainer,function(e){var t=e.width,n=e.draggable,o=e.offset,i=e.convexity,r=e.marginLeft,s=e.marginRight,c=e.marginBottom,l=e.direction,d=e.width>=50?21:17,h={bottom:c,boxSizing:"border-box",cursor:"pointer",fontSize:"25px",position:"fixed",textAlign:"center",fill:"currentColor",verticalAlign:"sub",left:r,right:s,zIndex:"9"},u=Math.floor((t+6)/4*i),p="right"===l?"":"scaleX(-1)",f={background:L,padding:"3px",borderRadius:u+"px 12px 12px "+u+"px",height:t+6+"px",minWidth:t+d+"px",maxWidth:t+d+"px",boxShadow:"0 0 14px 0 rgba(22, 45, 61, 0.36)",transform:"translate("+o.x+"px, "+o.y+"px) "+p,cursor:"move"},g={height:t+"px",minWidth:t+"px",maxWidth:t+"px"};return a()({},h,n?f:g)}(a()({},e,{offset:n})))})),u()(this,"updateStyleAndPosition",(function(){var e,n,o,i=t.props,r=i.backgroundColor,a=i.textColor,s=i.convexity,c=i.width,l=Math.floor(c/4*s),d=t.launcherIcon;d.style.backgroundColor=""+r,d.style.color=""+a,d.style.borderRadius=l+"px",t.updateContainerStyle(),T(t.dragHandle,(e=t.props,n=e.width>=50,o={display:"flex",justifyContent:"center",width:"10px",transform:"translateY(-50%)",fill:m(L,[e.backgroundColor,"#737a9e"]),position:"absolute",fontSize:"19px",letterSpacing:"-0.6px",right:n?"4px":"2px",top:"50%",cursor:"move",userSelect:"none"},e.draggable?o:{display:"none"}))})),u()(this,"initializeOpenLauncherIcon",(function(){var e,n,o,i,r,a,s=t.props,c=s.width,l=s.pimpleColor,d=s.alwaysShowPimple,h=s.unreadMessagesCount,u={pimpleColor:l,alwaysShowPimple:d,unreadMessagesCount:h,launcherSize:c},p=t.openLauncherIcon;p.id="open-launcher-icon",T(p,function(e){return{transition:"transform 0.2s ease",position:"absolute",top:0,left:0,width:e+"px",height:e+"px",display:"flex",alignItems:"center",justifyContent:"center"}}(c)),T(t.unreadMessagesElement,(n=(e=u).launcherSize>=50,o=n?"24px":"22px",i=n?"20px":"18px",r=e.unreadMessagesCount?o:i,a=e.unreadMessagesCount?"-6px":"-4px",{position:"absolute",height:r,minWidth:r,backgroundColor:e.pimpleColor,borderRadius:"12px",fontSize:"12px",fontWeight:"bold",fontFamily:"sans-serif",lineHeight:"20px",border:"2px solid white",top:a,left:a,boxSizing:"border-box",display:e.alwaysShowPimple||e.unreadMessagesCount?"block":"none"})),t.unreadMessagesElement.innerText=""+(h||"")})),u()(this,"updateOpenLauncherIcon",(function(){var e=t.openLauncherIcon;e.innerHTML=""+t.props.icon,e.appendChild(t.unreadMessagesElement),t.unreadMessagesElement.innerText=""+(t.props.unreadMessagesCount||"")})),u()(this,"initializeCloseLauncherIcon",(function(){var e,n=t.closeLauncherIcon;n.id="close-launcher-icon",T(n,{transition:"transform 0.2s ease",position:"absolute",top:"0",left:"0",width:(e=t.props.width)+"px",height:e+"px",transform:"rotateZ(-45deg)",opacity:"0",display:"flex",alignItems:"center",justifyContent:"center"}),n.innerHTML=""+w})),u()(this,"updateCloseLauncherIcon",(function(){var e=t.closeLauncherIcon,n=t.props.customCloseIcon;e.innerHTML=n||""+w})),u()(this,"initializeLauncherIcon",(function(){var e,n,o,i,r,s,c,l,d=t.launcherIcon;return d.id="launcher-icon",T(d,(e=t.props,n=e.width,o=e.draggable,i=e.textColor,r=e.direction,s=o&&"right"===r?{}:{transform:"scaleX(-1)"},c={boxSizing:"border-box",cursor:"pointer",fontSize:"25px",position:"absolute",textAlign:"center",transition:"all .2s ease-out",fill:i,color:i,verticalAlign:"sub",height:n+"px",minWidth:n+"px",maxWidth:n+"px"},l=a()({left:"3px",top:"3px"},s),a()({},c,o?l:{boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",left:0,top:0}))),d})),this.props=e,this.setupElements(),this.initializeLauncherIcon(),this.initializeOpenLauncherIcon(),this.initializeCloseLauncherIcon(),this.closeLauncherIcon.innerHTML=""+w,this.update()}var t=e.prototype;return t.setProps=function(e){this.props=a()({},this.props,e),this.update()},t.setOpenMode=function(){var e=this;this.closeLauncherIcon.style.opacity=this.props.isMobile?"0":"1",this.openLauncherIcon.style.transform="rotateZ(90deg) scale(0)",this.launcherIcon.setAttribute("aria-expanded","true"),setTimeout((function(){e.closeLauncherIcon.style.transform="rotateZ(0deg)"}),1),setTimeout((function(){e.openLauncherIcon.style.opacity="none",setTimeout((function(){e.launcherIcon.style.display=e.props.isMobile?"none":"block"}),100)}),200)},t.setClosedMode=function(){var e=this;this.openLauncherIcon.style.opacity="1",this.launcherIcon.style.display="block",this.launcherIcon.setAttribute("aria-expanded","false"),this.launcherIcon.focus(),setTimeout((function(){e.openLauncherIcon.style.transform="rotateZ(0deg) scale(1)",e.closeLauncherIcon.style.transform="rotateZ(-45deg)"}),1),setTimeout((function(){e.closeLauncherIcon.style.opacity="0"}),100)},t.setupElements=function(){var e=this;this.openLauncherIcon=document.createElement("span"),this.closeLauncherIcon=document.createElement("span"),this.launcherIcon=document.createElement("span"),this.unreadMessagesElement=document.createElement("span"),this.dragHandle=document.createElement("span"),this.dragHandle.id="ans-launcher-drag-handle",this.dragHandle.innerHTML='<svg width="2" height="14" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><circle transform="rotate(90 1 1)" cx="1" cy="1" r="1"/><circle transform="rotate(90 1 5)" cx="1" cy="5" r="1"/><circle transform="rotate(90 1 9)" cx="1" cy="9" r="1"/><circle transform="rotate(90 1 13)" cx="1" cy="13" r="1"/></g></svg>',this.launcherIconContainer=document.createElement("div"),this.launcherIconContainer.id="launcher-icon-container",this.launcherIconContainer.appendChild(this.launcherIcon),this.launcherIconContainer.appendChild(this.dragHandle),this.launcherIcon.appendChild(this.openLauncherIcon),this.launcherIcon.appendChild(this.closeLauncherIcon),this.launcherIcon.tabIndex=0,this.launcherIcon.setAttribute("role","button"),this.launcherIcon.setAttribute("aria-label",this.props.ariaLabel),this.launcherIcon.setAttribute("aria-haspopup","dialog"),this.launcherIcon.setAttribute("aria-expanded","false"),this.launcherIcon.addEventListener("click",(function(t){e.dragging||e.props.onToggleWidget(t)})),this.launcherIcon.addEventListener("mousedown",(function(t){e.launcherIcon.style.outline="none"})),this.launcherIcon.addEventListener("keypress",(function(t){"Enter"!==t.key&&" "!==t.key&&"Spacebar"!==t.key||e.props.onToggleWidget(t)})),this.props.draggable&&A(this.launcherIconContainer,(function(){e.onDragStart()}),(function(t){e.props.onDrag(t),e.updateContainerStyle()}),(function(){e.onDragEnd()}))},t.update=function(){this.initializeOpenLauncherIcon(),this.updateOpenLauncherIcon(),this.updateCloseLauncherIcon(),this.updateStyleAndPosition()},e}(),O={width:"100%",minWidth:"100%",height:"100%",border:"0",overflow:"hidden",background:"white"},x=function(e){return{height:e.dragAreaHeight+"px",position:"absolute",top:"0",left:"0",right:"0",cursor:"move",clipPath:"polygon("+e.dragAreaPolygonPoints+")",webkitClipPath:"polygon("+e.dragAreaPolygonPoints+")",backgroundColor:"#00000001"}},D=function(){function e(e){var t=this;u()(this,"widgetFrame",void 0),u()(this,"frameContainer",void 0),u()(this,"dragBar",void 0),u()(this,"dragMask",void 0),u()(this,"props",void 0),u()(this,"openCloseTimer",void 0),u()(this,"dragging",!1),u()(this,"dragStartPoint",C(0,0)),u()(this,"startDrag",(function(){t.dragging=!0,t.dragMask.style.display="block",t.props.onDragStart()})),u()(this,"onDragEnd",(function(){t.dragging=!1,t.dragMask.style.display="none",t.props.onDragEnd()})),u()(this,"setProps",(function(e){t.props=a()({},t.props,e),t.updateFrameContainer(),t.refreshOffset(),T(t.dragBar,x(t.props)),t.props.isMobile&&t.props.isOpen&&(t.frameContainer.style.height="1px",setTimeout((function(){t.frameContainer.style.height=window.innerHeight+"px"}),10))})),u()(this,"toggleAnimations",(function(e){t.props=a()({},t.props,{disableAnimations:!e})})),u()(this,"refreshOffset",(function(){var e=t.frameContainer,n=t.props;n.isMobile?T(e,function(e){return{position:"fixed",bottom:"0",top:"0",right:"0",left:"0",display:e.isOpen?"block":"none",overflow:"hidden"}}(n)):T(e,function(e,t){var n=e.offset,o=e.viewportSize,i=e.marginBottom,r=e.isOpen,s=-1*n.y>o.y/2,c=n.x,l=n.y,d={display:"none",width:"380px",height:"calc(100% - 166px)",maxWidth:"calc(100% - 30px)",maxHeight:"625px",minHeight:"150px",boxShadow:"0 2px 24px 0 rgba(0, 0, 0, 0.48)",borderRadius:"6px",overflow:"hidden",position:"fixed"},h={bottom:"calc(90px + "+i+")"},u={display:"block",animation:e.disableAnimations?"":"ans-widget-v3-frame-open 0.2s"},p={display:"block",maxHeight:"0px",minHeight:"0px",animation:e.disableAnimations?"":"ans-widget-v3-frame-close 0.2s"},f=void 0===r?{}:!0===r?u:p,g={bottom:s?"":""+i,top:s?"-80px":"",transform:"translate("+c+"px, "+(s?o.y+l:l)+"px)"};return a()({},d,e.draggable?g:h,f)}(a()({},n),t.dragging))})),u()(this,"addParamsToFrameUrl",(function(e){var n=-1!==t.props.frameUrl.indexOf("?"),o=Object.keys(e).map((function(t){return t+"="+e[t]})).join("&");t.props.frameUrl=t.props.frameUrl+(n?"&":"?")+o})),u()(this,"updateFrameUrl",(function(e){t.props.frameUrl=e})),u()(this,"initFrameSrc",(function(){t.widgetFrame.src!==t.props.frameUrl&&(t.widgetFrame.src=t.props.frameUrl)})),u()(this,"show",(function(){clearTimeout(t.openCloseTimer),t.setProps({isOpen:!0})})),u()(this,"hide",(function(){t.setProps({isOpen:!1}),t.openCloseTimer=setTimeout((function(){t.setProps({isOpen:void 0})}),1e3)})),this.props=e,this.widgetFrame=document.createElement("iframe");var n=this.widgetFrame;n.id=Ce,n.allowFullscreen=!0,T(n,O),this.frameContainer=document.createElement("div");var o=this.frameContainer;o.id=me,this.updateFrameContainer(),o.innerHTML||o.appendChild(n),this.dragBar=document.createElement("div"),this.dragMask=document.createElement("div"),T(this.dragMask,{position:"absolute",top:0,left:0,bottom:0,right:0,display:"none"}),e.draggable&&!v()&&(this.frameContainer.appendChild(this.dragMask),this.frameContainer.appendChild(this.dragBar),T(this.dragBar,x(this.props))),this.hideFrameContainer(),this.refreshOffset(),this.props.draggable&&!v()&&A(this.dragBar,(function(e){t.startDrag()}),(function(e){t.props.onDrag(e)}),(function(){t.onDragEnd()}),0),this.props.isMobile&&window.addEventListener("resize",(function(){t.frameContainer.style.height=window.innerHeight+"px"}))}var t=e.prototype;return t.hideFrameContainer=function(){this.frameContainer.style.display="none"},t.updateFrameContainer=function(){var e=this.props,t=e.isMobile,n=e.marginLeft,o=e.marginRight,i=this.frameContainer;i.style.right=t?"0":o,i.style.left=t?"0":n},e}(),R=function(e,t){return 10+(t?20:0)+8+e},P=function(e){var t=e.offset,n=e.currentWidth,o=e.viewportSize,i=e.launcherWidth,r=e.draggable,a=e.pixelsFromEdge,s=a+n+15+R(i,r)+Math.abs(t.x),c=o.x-s<0,l=(Math.abs(t.x)+a+i/2)/o.x>.5;return c&&l},H=function(e){var t=e.offset,n=e.direction,o=e.viewportSize,i=e.launcherWidth,r=e.currentHeight,a=e.pixelsFromBottom,s=i+6,c=P(e),l="left"===n&&c||"right"===n&&!c?{left:"",right:"-20px",borderColor:"transparent transparent transparent #fff"}:{left:"-20px",right:"",borderColor:"transparent #fff transparent transparent"};return{content:"",display:"block",position:"absolute",bottom:(r<s?r:s)/2-10+(o.y-(a+r+20+Math.abs(t.y))<0?r-(i+6):0)+"px",right:l.right,left:l.left,borderColor:l.borderColor,width:"0",height:"0",borderStyle:"solid",borderWidth:"10px"}},F=function(){function e(e){var t=this;u()(this,"props",void 0),u()(this,"tooltipContainer",void 0),u()(this,"tooltipText",void 0),u()(this,"tooltipCloseIcon",void 0),u()(this,"tooltipPointer",void 0),u()(this,"localOffset",C(0,0)),u()(this,"openingTimeout",void 0),u()(this,"closedTooltip",void 0),u()(this,"dragHide",(function(){t.openingTimeout&&clearTimeout(t.openingTimeout),t.hide()})),u()(this,"hide",(function(){t.tooltipContainer.style.visibility="hidden",t.tooltipContainer.style.opacity="0"})),u()(this,"show",(function(){t.closedTooltip||(t.tooltipContainer.style.visibility="visible",t.tooltipContainer.style.opacity="1")})),u()(this,"closeTooltip",(function(){t.closedTooltip=!0,t.hide(),setTimeout((function(){t.props.onClose()}),500)})),u()(this,"updateContainerStyle",(function(){var e=t.props,n=E(e.offset,t.localOffset),o=t.tooltipContainer.offsetWidth,i=t.tooltipContainer.offsetHeight;T(t.tooltipContainer,function(e){var t=e.offset,n=e.direction,o=e.currentWidth,i=e.currentHeight,r=e.viewportSize,a=e.launcherWidth,s=e.marginLeft,c=e.marginRight,l=e.marginBottom,d=e.draggable,h=e.pixelsFromEdge,u=e.pixelsFromBottom,p=R(a,d),f=r.y-(u+i+20+Math.abs(t.y))<0,g=function(t){return P(e)?"calc("+-1*(o+8-h+20)+"px)":"calc("+t+" + "+p+"px)"},T="left"===n?g(s):s,m="right"===n?g(c):c,C=f?"- "+(i-(a+6))+"px":"",E=i>a+6?"calc("+l+" "+C+")":"calc(\n\t\t\t"+l+" + "+Math.floor((a+6-(i||45))/2)+"px "+C+"\n\t\t)",_=r.x-15-p-h,y=Math.min(300,_)+"px";return{direction:e.isRtl?"rtl":"ltr",cursor:"pointer",bottom:E,boxSizing:"border-box",borderRadius:"5px",position:"fixed",fill:"currentColor",padding:e.isRtl?"9px 14px 9px 27px":"9px 27px 9px 14px",minHeight:"45px",minWidth:"20px",maxWidth:y,left:T,right:m,zIndex:"9",display:"flex",alignItems:"center",background:"#ffffff",boxShadow:"2px 2px 10px 2px rgba(0, 0, 0, 0.15)",transform:"translate("+t.x+"px, "+t.y+"px)",transition:"visibility 0s, opacity 0.15s ease-in"}}(a()({},e,{offset:n,currentWidth:o,currentHeight:i})))})),u()(this,"updatePointerStyle",(function(){var e=t.props,n=E(e.offset,t.localOffset),o=t.tooltipContainer.offsetWidth,i=t.tooltipContainer.offsetHeight;T(t.tooltipPointer,H(a()({},e,{offset:n,currentWidth:o,currentHeight:i})))})),u()(this,"updateTooltipConfig",(function(e,n){t.tooltipText.innerHTML=M(e),t.hide(),clearTimeout(t.openingTimeout),t.openingTimeout=setTimeout((function(){t.update(),t.show()}),1e3*n)})),this.props=e,this.closedTooltip=!1,this.setupElements(),this.tooltipCloseIcon.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="11" height="11"><path fill="#ABABAB" d="M10.016 0L5.5 4.516.984 0 0 .983 4.516 5.5 0 10.016.984 11 5.5 6.483 10.016 11l.984-.984L6.483 5.5 11 .983z"/></svg>',this.hide(),this.openingTimeout=setTimeout((function(){t.show()}),1e3*e.tooltipDelay),this.update()}var t=e.prototype;return t.setProps=function(e){this.props=a()({},this.props,e),this.update()},t.setupElements=function(){var e,t=this;this.tooltipContainer=document.createElement("div"),this.tooltipContainer.id="tooltip-container",this.tooltipContainer.addEventListener("click",(function(e){t.props.onToggleWidget(e)})),this.tooltipText=document.createElement("span"),this.tooltipText.id="ans-launcher-tooltip",this.tooltipText.innerHTML=M(this.props.content),T(this.tooltipText,{color:"#28516c",fontSize:"14px",userSelect:"none"}),this.tooltipContainer.appendChild(this.tooltipText),this.tooltipCloseIcon=document.createElement("div"),this.tooltipCloseIcon.id="ans-launcher-tooltip-close",this.tooltipCloseIcon.tabIndex=0,T(this.tooltipCloseIcon,{cursor:"pointer",position:"absolute",top:"12px",right:(e=this.props.isRtl)?"unset":"12px",left:e?"12px":"unset"}),this.tooltipCloseIcon.addEventListener("click",(function(e){e.stopPropagation(),t.closeTooltip()})),this.tooltipCloseIcon.addEventListener("mousedown",(function(e){t.tooltipCloseIcon.style.outline="none"})),this.tooltipCloseIcon.addEventListener("keypress",(function(e){"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||t.closeTooltip()})),this.tooltipContainer.appendChild(this.tooltipCloseIcon),this.tooltipPointer=document.createElement("div"),this.tooltipPointer.id="ans-launcher-tooltip-pointer",T(this.tooltipPointer,H(this.props)),this.tooltipContainer.appendChild(this.tooltipPointer)},t.update=function(){this.updateContainerStyle(),this.updatePointerStyle()},e}(),U={position:"fixed",top:"0",left:"0",display:"none",width:"100%",height:"100%",transition:"opacity 0.2s ease",backgroundColor:"rgba(0,0,0,0.5)",zIndex:"11",alignItems:"center",justifyContent:"center"},N={border:"0",maxWidth:"80%",maxHeight:"80%"},k=function(){var e=this;u()(this,"element",void 0),u()(this,"imageElement",void 0),u()(this,"show",(function(t){e.imageElement.src=t,e.element.style.display="flex",e.element.style.opacity="0",setTimeout((function(){e.element.style.opacity="1"}),1)})),this.element=document.createElement("div");var t=this.element;t.id="widget-media-viewer",T(t,U),this.imageElement=document.createElement("img"),T(this.imageElement,N),t.appendChild(this.imageElement),t.addEventListener("click",(function(e){e.stopPropagation(),t.style.opacity="0",setTimeout((function(){t.style.display="none"}),200)}))},V={display:"none"},W=function(e){u()(this,"element",void 0),this.element=document.createElement("iframe");var t=this.element;t.id="widget-view-preload",t.src=e.preloadUrl,T(t,V)};function B(e){return function(){return JSON.parse(sessionStorage.getItem(e))}}function G(e){return function(t){sessionStorage.setItem(e,JSON.stringify(t))}}function K(e){return function(){sessionStorage.removeItem(e)}}!function(e){e.WIDGET_STATE="__aw_widget_state_",e.WIDGET_UNREAD_MESSAGES_COUNT="__aw_widget_unread_messages_count",e.WIDGET_HIDE_TOOLTIP="__aw_widget_hide_tooltip"}(e||(e={}));var j,z,Y={session:{get:{widgetState:function(t){return B(""+e.WIDGET_STATE+t)},unreadMessagesCount:B(e.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:B(e.WIDGET_HIDE_TOOLTIP)},set:{widgetState:function(t){return G(""+e.WIDGET_STATE+t)},unreadMessagesCount:G(e.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:G(e.WIDGET_HIDE_TOOLTIP)},remove:{widgetState:function(t){return K(""+e.WIDGET_STATE+t)},unreadMessagesCount:K(e.WIDGET_UNREAD_MESSAGES_COUNT),hideTooltip:K(e.WIDGET_HIDE_TOOLTIP)}},local:{get:{hideTooltip:(j=e.WIDGET_HIDE_TOOLTIP,function(){return JSON.parse(localStorage.getItem(j))})}}};!function(e){e[e.SMALL=10]="SMALL",e[e.LARGE=20]="LARGE"}(z||(z={}));var X,q,J,Z,Q,$,ee,te,ne=_(15,15,15,15),oe=_(15,15,15,15),ie={position:"fixed",bottom:"0",width:"0",height:"0",zIndex:"999999999"},re=window,ae=function(){function e(e,t){var n=this;u()(this,"baseUrl",""),u()(this,"locale",""),u()(this,"radius",15),u()(this,"color",""),u()(this,"textColor",""),u()(this,"right","20px"),u()(this,"left","auto"),u()(this,"bottom","20px"),u()(this,"pixelsFromEdge","20"),u()(this,"pixelsFromBottom","20"),u()(this,"icon",""),u()(this,"isLeft",!1),u()(this,"isRtl",void 0),u()(this,"articleId",""),u()(this,"categoryId",""),u()(this,"isMobile",!1),u()(this,"isRestricted",!1),u()(this,"tooltipContent",""),u()(this,"launcherWidth",60),u()(this,"isChatEnabled",void 0),u()(this,"lastBodyUserSelectValue",""),u()(this,"pimpleColor","#389eec"),u()(this,"alwaysShowPimple",!1),u()(this,"authenticatorFn",null),u()(this,"frameInitialized",!1),u()(this,"launcherDragConstraints",ne),u()(this,"frameDragConstraints",oe),u()(this,"onToggleWidget",void 0),u()(this,"draggable",void 0),u()(this,"showTooltip",void 0),u()(this,"tooltipDelay",void 0),u()(this,"launcherContainerElement",void 0),u()(this,"dragMask",void 0),u()(this,"launcherView",void 0),u()(this,"frameView",void 0),u()(this,"globalStyles",void 0),u()(this,"tooltipView",void 0),u()(this,"mediaViewer",void 0),u()(this,"viewPreload",void 0),u()(this,"resizeHandlerTimer",void 0),u()(this,"offset",C(0,0)),u()(this,"draggingOffset",C(0,0)),u()(this,"launcherBoundaries",y(0,0,0,0)),u()(this,"frameBoundaries",y(0,0,0,0)),u()(this,"unreadMessagesCount",Y.session.get.unreadMessagesCount()||0),u()(this,"isVisible",!1),u()(this,"lastViewport",C(0,0)),u()(this,"dragAreaHeight",25),u()(this,"dragAreaPolygonPoints","0px 0px, 380px 0px, 380px 25px, 0px 25px"),u()(this,"updateDragArea",(function(e,t){n.dragAreaPolygonPoints=e,n.dragAreaHeight=t,n.frameView.setProps({dragAreaHeight:t,dragAreaPolygonPoints:e})})),u()(this,"onFrameDragStart",(function(){n.showDragMask(),n.frameBoundaries=I(n.frameView.frameContainer,n.frameDragConstraints,n.lastViewport,n.offset)})),u()(this,"showDragMask",(function(){n.dragMask.style.display="block";var e=document.body.style;n.lastBodyUserSelectValue=e.getPropertyValue("user-select"),document.body.style.setProperty("user-select","none","important")})),u()(this,"hideDragMask",(function(){n.dragMask.style.display="none",document.body.style.setProperty("user-select",n.lastBodyUserSelectValue)})),u()(this,"onLauncherDrag",(function(e){n.draggingOffset=e;var t=E(n.draggingOffset,n.offset),o=S(t,n.launcherBoundaries);n.launcherView.setProps({offset:o})})),u()(this,"onFrameDrag",(function(e){n.draggingOffset=e;var t=E(n.draggingOffset,n.offset),o=S(t,n.frameBoundaries);n.frameView.setProps({offset:o})})),u()(this,"enforceLauncherConstraints",(function(){n.launcherBoundaries=I(n.launcherView.launcherIconContainer,n.launcherDragConstraints,n.lastViewport,n.offset);var e=S(n.offset,n.launcherBoundaries);n.offset=e,n.launcherView.setProps({offset:n.offset}),n.tooltipView.setProps({offset:n.offset}),n.frameView.setProps({offset:n.offset})})),u()(this,"enforceFrameConstraints",(function(){n.frameBoundaries=I(n.frameView.frameContainer,n.frameDragConstraints,n.lastViewport,n.offset);var e=S(n.offset,n.frameBoundaries);n.offset=e,n.frameView.setProps({offset:n.offset}),n.launcherView.setProps({offset:n.offset})})),u()(this,"onLauncherDragEnd",(function(){n.offset=S(E(n.draggingOffset,n.offset),n.launcherBoundaries),n.onDragEnd()})),u()(this,"onFrameDragEnd",(function(){n.offset=S(E(n.draggingOffset,n.offset),n.frameBoundaries),n.onDragEnd()})),u()(this,"onDragEnd",(function(){n.hideDragMask(),n.launcherView.setProps({offset:n.offset}),n.tooltipView.setProps({offset:n.offset}),n.showTooltip&&n.tooltipView.show(),n.frameView.setProps({offset:n.offset}),fe.forEach((function(e){return e(n.offset)}))})),u()(this,"onLauncherDragStart",(function(){n.launcherBoundaries=I(n.launcherView.launcherIconContainer,n.launcherDragConstraints,n.lastViewport,n.offset),n.showDragMask(),n.showTooltip&&n.tooltipView.dragHide()})),u()(this,"incrementUnreadMessageCount",(function(){n.unreadMessagesCount=n.unreadMessagesCount+1,n.launcherView.setProps({unreadMessagesCount:n.unreadMessagesCount}),Y.session.set.unreadMessagesCount(n.unreadMessagesCount)})),u()(this,"updateUnreadMessagesSettings",(function(e,t){n.pimpleColor=e,n.alwaysShowPimple=t,n.launcherView.setProps({pimpleColor:n.pimpleColor,alwaysShowPimple:n.alwaysShowPimple})})),u()(this,"onCloseTooltip",(function(){n.removeTooltip(),pe.forEach((function(e){return e()}))})),u()(this,"removeTooltip",(function(){n.showTooltip=!1,Y.session.set.hideTooltip(!0),n.launcherContainerElement.removeChild(n.tooltipView.tooltipContainer)})),u()(this,"onMinimizeFrame",(function(){n.isVisible=!1,n.hideFrameAndTriggerSdk("click"),n.launcherView.show(),n.showTooltip&&n.tooltipView.show(),setTimeout((function(){n.enforceLauncherConstraints()}),200),n.onToggleWidget(!1,"click")})),u()(this,"getToken",(function(){return ge.token&&ge.fetchTime>Date.now()-le?Promise.resolve(ge.token):n.authenticatorFn().then((function(e){return ge.token=e,ge.fetchTime=Date.now(),Promise.resolve(e)}))})),u()(this,"addAuthFn",(function(e){n.authenticatorFn=e,n.isChatEnabled&&n.getToken().then((function(e){var t={preloadUrl:n.baseUrl+"/preload/"+n.locale+"?token="+e};n.viewPreload=new W(t),n.launcherContainerElement.appendChild(n.viewPreload.element)}))})),u()(this,"setHasActiveChat",(function(e){n.frameView.addParamsToFrameUrl({activeChat:e?"true":"false"})})),u()(this,"setArticleId",(function(e){n.frameView.addParamsToFrameUrl({articleId:e})})),u()(this,"setGoToChatList",(function(){n.frameView.addParamsToFrameUrl({goToChatList:"true"})})),u()(this,"maybeInitFrameSrc",(function(){n.frameInitialized||(n.frameInitialized=!0,n.isRestricted?n.authenticatorFn?n.getToken().then((function(e){n.frameView.addParamsToFrameUrl({token:e}),n.frameView.initFrameSrc()})):console.error("Widget is restricted but no Authentication function was added!"):n.frameView.initFrameSrc())})),u()(this,"setFrameUrl",(function(e){n.baseUrl=e,n.updateFrameUrl(),n.frameInitialized&&(n.isRestricted?n.authenticatorFn?n.getToken().then((function(e){n.frameView.addParamsToFrameUrl({token:e}),n.frameView.initFrameSrc()})):console.error("Widget is restricted but no Authentication function was added!"):n.frameView.initFrameSrc())})),u()(this,"hideFrameAndTriggerSdk",(function(e){n.frameView.hide(),ue.forEach((function(t){return t(e)}))})),u()(this,"onLauncherClick",(function(e){n.maybeInitFrameSrc(),n.showTooltip&&n.removeTooltip();var t=n.isVisible,o=n.launcherView.launcherIconContainer.contains(e.target),i=e.isTrusted?o?"click":"tooltip-click":"sdk";t?(n.isVisible=!1,n.draggable||n.launcherView.setClosedMode(),n.hideFrameAndTriggerSdk(i),n.onToggleWidget(!1,i)):(n.isVisible=!0,n.draggable||n.launcherView.setOpenMode(),n.tooltipView.hide(),n.frameView.show(),n.launcherView.setProps({unreadMessagesCount:0}),n.unreadMessagesCount=0,Y.session.remove.unreadMessagesCount(),n.draggable&&setTimeout((function(){n.enforceFrameConstraints()}),200),he.forEach((function(e){return e(i)})),n.onToggleWidget(!0,i)),(n.draggable||n.isMobile)&&(n.isVisible?n.launcherView.hide():(n.launcherView.show(),n.launcherView.launcherIcon.focus()))})),u()(this,"updateMargins",(function(e,t){n.isLeft?n.left=e+"px":n.right=e+"px",n.bottom=t+"px";var o={marginBottom:n.bottom,marginLeft:n.left,marginRight:n.right};n.launcherView.setProps(o),n.frameView.setProps(o),n.tooltipView.setProps(a()({},o,{pixelsFromBottom:t,pixelsFromEdge:e}))})),u()(this,"changeDirection",(function(){n.isLeft=!n.isLeft;var e=[n.right,n.left];n.left=e[0],n.right=e[1];var t={marginLeft:n.left,marginRight:n.right};n.launcherView.setProps(a()({},t,{direction:n.isLeft?"left":"right"})),n.frameView.setProps(t),n.tooltipView.setProps(a()({},t,{direction:n.isLeft?"left":"right"}))})),u()(this,"updateTooltipSettings",(function(e,t){n.tooltipView.updateTooltipConfig(e,t),n.showTooltip||(n.launcherContainerElement.appendChild(n.tooltipView.tooltipContainer),n.showTooltip=!0)})),this.applySettings(e),this.onToggleWidget=t;var o=function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;return C(t,n)};this.lastViewport=o();var i={isMobile:this.isMobile,isRestricted:this.isRestricted,frameUrl:this.baseUrl+"/view/"+this.locale,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,offset:this.offset,draggable:this.draggable,viewportSize:this.lastViewport,onDragEnd:this.onFrameDragEnd,onDragStart:this.onFrameDragStart,onDrag:this.onFrameDrag,dragAreaHeight:this.dragAreaHeight,dragAreaPolygonPoints:this.dragAreaPolygonPoints};this.frameView=new D(i);var r={width:this.launcherWidth,icon:this.icon,draggable:this.draggable,isMobile:this.isMobile,backgroundColor:e.color,convexity:e.convex,textColor:m(e.color),direction:this.isLeft?"left":"right",viewportSize:this.lastViewport,dragConstraints:this.launcherDragConstraints,offset:this.offset,onToggleWidget:this.onLauncherClick,onDragEnd:this.onLauncherDragEnd,onDragStart:this.onLauncherDragStart,onDrag:this.onLauncherDrag,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,pimpleColor:this.pimpleColor,alwaysShowPimple:this.alwaysShowPimple,unreadMessagesCount:this.unreadMessagesCount,ariaLabel:e.launcherAriaLabel};this.launcherView=new b(r),this.updateFrameUrl(),e.newWidgetOverride&&this.frameView.addParamsToFrameUrl({newWidget:"true"}),e.consentPolicy&&this.frameView.addParamsToFrameUrl({"consent-policy":e.consentPolicy});var s={isRtl:this.isRtl,draggable:this.draggable,isMobile:this.isMobile,launcherWidth:this.launcherWidth,direction:this.isLeft?"left":"right",viewportSize:this.lastViewport,offset:this.offset,content:e.tooltipContent||"",tooltipDelay:e.tooltipDelay,onToggleWidget:this.onLauncherClick,onClose:this.onCloseTooltip,marginLeft:this.left,marginRight:this.right,marginBottom:this.bottom,pixelsFromEdge:parseInt(this.pixelsFromEdge,10),pixelsFromBottom:parseInt(this.pixelsFromBottom,10)};if(this.tooltipView=new F(s),this.mediaViewer=new k,!this.isRestricted&&this.isChatEnabled){var c={preloadUrl:this.baseUrl+"/preload/"+this.locale};this.viewPreload=new W(c)}this.initializeLauncherElements(),this.applyStyleToLauncherContainer(),this.tooltipView.update(),this.draggable&&window.addEventListener("resize",(function(){clearTimeout(n.resizeHandlerTimer),n.lastViewport=o(),n.resizeHandlerTimer=setTimeout((function(){n.frameView.setProps({viewportSize:n.lastViewport}),n.tooltipView.setProps({viewportSize:n.lastViewport}),n.isVisible?n.enforceFrameConstraints():n.enforceLauncherConstraints()}),250)}),!1),this.dragMask=document.createElement("div"),T(this.dragMask,{position:"fixed",right:0,left:0,top:0,bottom:0,display:"none",width:"100vw",height:"100vh",userSelect:"none"}),this.launcherContainerElement.appendChild(this.dragMask)}var t=e.prototype;return t.applyStyleToLauncherContainer=function(){var e=this.launcherContainerElement;return T(e,ie),this.isLeft?e.style.left="0":e.style.right="0",e},t.applySettings=function(e){this.isMobile=(re.outerWidth||re.screen.width)<=580,this.launcherWidth=e.width!==z.LARGE||this.isMobile?46:60,this.draggable=e.draggable&&!this.isMobile,this.showTooltip=e.showTooltip&&!Y.session.get.hideTooltip()&&!Y.local.get.hideTooltip(),this.tooltipContent=e.tooltipContent,this.tooltipDelay=e.tooltipDelay,this.color=e.color,this.textColor=m(e.color),this.radius=Math.floor(this.launcherWidth/2*e.convex),this.isLeft="left"===e.position,this.icon=e.icon?decodeURI(e.icon):"",this.baseUrl=e.baseUrl,this.locale=e.locale,this.articleId=e.articleId,this.isRtl=e.isRtl,this.categoryId=e.categoryId,this.isRestricted=e.restrictedWidget,this.isChatEnabled=e.isChatEnabled,this.launcherDragConstraints=e.launcherConstraints||ne,this.frameDragConstraints=e.frameConstraints||oe},t.updateFrameUrl=function(){var e=this.baseUrl,t=this.locale,n=this.articleId,o=this.categoryId,i=e+"/view/"+t,r=n?"/article/"+n:o?"/category/"+o:"",a=this.isMobile?"?mobile=true":"";this.frameView.updateFrameUrl(""+i+r+a)},t.initializeLauncherElements=function(){this.globalStyles=document.createElement("style"),this.globalStyles.innerHTML="@keyframes ans-widget-v3-frame-open {\n\t0% {max-height: 310px;opacity: 0;}\n\t50% {opacity: 0.4;}\n\t100% {max-height: 625px;opacity: 1;}\n}\n@keyframes ans-widget-v3-frame-close {\n\t0% {max-height: 625px;opacity: 1;}\n\t50% {opacity: 0.6;}\n\t100% {max-height: 310px;opacity: 0;}\n}\n@media print {\n\t#answers-widget-launcher-container {\n\t\tdisplay: none !important;\n\t}\n}",this.launcherContainerElement=document.createElement("div"),this.launcherContainerElement.id=g,this.launcherContainerElement.appendChild(this.mediaViewer.element),this.launcherContainerElement.appendChild(this.launcherView.launcherIconContainer),this.showTooltip&&this.tooltipContent&&this.launcherContainerElement.appendChild(this.tooltipView.tooltipContainer),this.launcherContainerElement.appendChild(this.frameView.frameContainer),!this.isRestricted&&this.isChatEnabled&&this.launcherContainerElement.appendChild(this.viewPreload.element),document.body.appendChild(this.launcherContainerElement),document.head.appendChild(this.globalStyles)},e}();!function(e){e.LIST="LIST",e.ROOM="ROOM"}(X||(X={})),function(e){e[e.WIDGET_HOME=0]="WIDGET_HOME",e[e.CATEGORY=1]="CATEGORY",e[e.ARTICLE=2]="ARTICLE"}(q||(q={})),function(e){e[e.ARTICLE=0]="ARTICLE",e[e.URI=1]="URI",e[e.ID=2]="ID"}(J||(J={})),function(e){e.EMAIL="EMAIL",e.CALLBACK="CALLBACK",e.CHAT="CHAT"}(Z||(Z={})),function(e){e.CALLBACK_SUCCESS="CALLBACK_SUCCESS",e.CALLBACK_THROTTLED="CALLBACK_THROTTLED",e.CALLBACK_IN_LINE="CALLBACK_IN_LINE",e.CALLBACK_FAIL="CALLBACK_FAIL",e.EMAIL_SUCCESS="EMAIL_SUCCESS",e.EMAIL_FAIL="EMAIL_FAIL",e.CHATBOT_SUCCESS="CHATBOT_SUCCESS"}(Q||(Q={})),function(e){e[e.IN_LINE=-110002]="IN_LINE"}($||($={})),function(e){e[e.OUT_OF_BUSINESS_HOURS=-19e4]="OUT_OF_BUSINESS_HOURS",e[e.MULTIPLE_CHATS_DISABLED=-180001]="MULTIPLE_CHATS_DISABLED"}(ee||(ee={})),function(e){e.SEARCH_ARTICLE="search-article",e.SUBMIT_TICKET="submit-ticket",e.SUBMIT_CALLBACK="submit-callback",e.START_CHAT="start-chat",e.SEND_CHAT_MESSAGE="send-chat-message",e.SUBMIT_CSAT="submit-csat"}(te||(te={}));var se,ce=n(23523),le=29e4,de=function(e){function t(t){var n;return n=e.call(this)||this,u()(c()(n),"settings",void 0),u()(c()(n),"launcher",void 0),u()(c()(n),"wasOpen",!1),u()(c()(n),"focusInterval",void 0),u()(c()(n),"authenticator",void 0),u()(c()(n),"activeChatCount",void 0),u()(c()(n),"hasActiveChatRequests",[]),u()(c()(n),"injectToElementById",(function(e){n.moveFrame(me,e)})),u()(c()(n),"ejectFromElementById",(function(e){n.moveFrame(e,me)})),u()(c()(n),"listenToStateChange",(function(){n.addEventListener(n.onStateChange)})),u()(c()(n),"restoreLastState",(function(){var e=Y.session.get.widgetState(n.settings.baseUrl)();e&&(n.restorePage(e.pageData),n.restoreModals(e.modals,e.chatView,e.ticketId),n.restoreOpen(e.open))})),u()(c()(n),"open",(function(e){n.toggle(!0,e)})),u()(c()(n),"close",(function(){n.toggle(!1)})),u()(c()(n),"hide",(function(){document.getElementById(g).style.display="none"})),u()(c()(n),"show",(function(){document.getElementById(g).style.display="block"})),u()(c()(n),"destroy",(function(){var e=window,t=document.getElementsByTagName("body")[0],o=document.getElementById(g);clearInterval(n.focusInterval),o&&(t.removeChild(o),delete e.AnswersWidget)})),u()(c()(n),"onWidgetOpened",(function(e){he.push(e)})),u()(c()(n),"onWidgetClosed",(function(e){ue.push(e)})),u()(c()(n),"onTooltipClosed",(function(e){pe.push(e)})),u()(c()(n),"onDragEnd",(function(e){fe.push(e)})),u()(c()(n),"addAuthenticationFn",(function(e){n.authenticator?console.warn("Authentication function already added."):(n.settings.restrictedWidget||console.warn("Adding authentication to widget that is not set as restricted may result in unexpected behavior."),n.authenticator=e,n.sendScopedPostMessage({type:ce.WidgetMessageType.AUTHENTICATOR_ADDED,data:{}}),n.sdkMemory.authenticatorAdded=!0,n.launcher.addAuthFn(e))})),u()(c()(n),"changeLauncherAlignment",(function(e){e&&"left"===e===n.launcher.isLeft||n.launcher.changeDirection()})),u()(c()(n),"hasActiveChatConversation",(function(){return void 0!==n.activeChatCount?Promise.resolve(!!n.activeChatCount):new Promise((function(e){n.hasActiveChatRequests.push(e)}))})),u()(c()(n),"setLauncherIconSvg",(function(e){n.launcher.launcherView.setProps({icon:e})})),u()(c()(n),"setLauncherCloseIconSvg",(function(e){n.launcher.launcherView.setProps({customCloseIcon:e})})),u()(c()(n),"setOffset",(function(e,t){n.launcher.updateMargins(e,t)})),u()(c()(n),"getOffset",(function(){return{x:n.launcher.offset.x,y:n.launcher.offset.y}})),u()(c()(n),"getPosition",(function(){return{x:document.body.getBoundingClientRect().width-n.launcher.launcherView.launcherIconContainer.getBoundingClientRect().right,y:document.body.getBoundingClientRect().height-n.launcher.launcherView.launcherIconContainer.getBoundingClientRect().bottom}})),u()(c()(n),"setTooltipConfig",(function(e,t){n.launcher.updateTooltipSettings(e,t)})),u()(c()(n),"setUnreadMessageConfig",(function(e,t){n.launcher.updateUnreadMessagesSettings(e,t)})),u()(c()(n),"onLoaded",(function(e){e()})),u()(c()(n),"setFrameBaseUrl",(function(e){n.launcher.setFrameUrl(e)})),u()(c()(n),"overrideChatGreetingMessage",(function(){console.warn("Deprecated: Use 'setOverrideTexts' instead of overrideChatGreetingMessage.")})),u()(c()(n),"clearChats",(function(){console.warn("Deprecated: Remove calls to clearChats.")})),u()(c()(n),"addLabelsOnSubmit",(function(e){console.warn("Deprecated: Use 'setLabels' instead of addLabelsOnSubmit."),n.setLabels(e)})),u()(c()(n),"onLoad",(function(e){console.warn("Deprecated: onLoad is called before the view is fully loaded and interactive"),n.frame.onload=function(){e&&e()}})),u()(c()(n),"setCustomHomePage",(function(){console.warn("Deprecated: custom home page HTML can be added in the widget settings")})),u()(c()(n),"addCustomHeroHtml",(function(){console.warn("Deprecated: use setCustomKbHeader or setCustomHomePageHeader")})),u()(c()(n),"toggle",(function(e,t){e!==("none"!==document.getElementById(me).style.display)&&(t?(n.launcher.frameView.toggleAnimations(!1),n.launcher.onLauncherClick(new MouseEvent("click")),n.launcher.frameView.toggleAnimations(!0)):n.launcher.onLauncherClick(new MouseEvent("click")))})),u()(c()(n),"listenToLocationChange",(function(){window.addEventListener("hashchange",(function(){n.reportLocationChange(window.location.href,document.title)}),!1);var e=history.pushState;history.pushState=function(t,o,i){e.apply(history,[t,o,i]),setTimeout((function(){n.reportLocationChange(window.location.href,document.title)}),500)}})),u()(c()(n),"handleWidgetToggle",(function(e,t){n.sdkMemory.isOpen=e,n.sendScopedPostMessage({type:ce.WidgetMessageType.WIDGET_OPEN,data:{isOpen:e,method:t}})})),u()(c()(n),"listenToFocusChange",(function(){n.sdkMemory.focusState=document.hasFocus(),n.focusInterval=setInterval((function(){var e=document.hasFocus();n.sdkMemory.focusState!==e&&(n.sdkMemory.focusState=e,n.handleWindowFocusChange(e))}),500)})),u()(c()(n),"handleWindowFocusChange",(function(e){n.sendScopedPostMessage({type:ce.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:e}})})),u()(c()(n),"reportLocationChange",(function(e,t){n.sdkMemory.location={url:e,title:t},n.sendScopedPostMessage({type:ce.WidgetMessageType.LOCATION_CHANGED,data:{url:e,title:t}})})),u()(c()(n),"getToken",(function(){return ge.token&&ge.fetchTime>Date.now()-le?Promise.resolve(ge):n.authenticator().then((function(e){return ge.token=e,ge.fetchTime=Date.now(),Promise.resolve(ge)}))})),u()(c()(n),"onStateChange",(function(e){var t,o=function(e){var t=Y.session.get.widgetState(n.settings.baseUrl)(),o=a()({},t,e);Y.session.set.widgetState(n.settings.baseUrl)(o)};switch(e.type){case ce.EventType.OPEN:o({open:!0});break;case ce.EventType.CLOSE:o({open:!1});break;case ce.EventType.NAVIGATION:var i=e.data.nextView.page,r=e.data.nextView.data.id,s=null==(t=e.data.nextView.data.article)?void 0:t.id;void 0!==i&&o({pageData:{page:i,additionalData:{categoryId:r,articleId:s}}});break;case ce.EventType.OPEN_MODALS_CHANGE:var c=e.data.openModals;c&&o({modals:c});break;case ce.EventType.CHAT_VIEW_CHANGED:var l=e.data.chatView;l&&o({chatView:l});break;case ce.EventType.CHAT_VIEW:case ce.EventType.CHAT_STARTED_SUCCESS:var d=e.data.ticketId;d&&o({ticketId:d})}})),n.settings=t,n.launcher=new ae(t,n.handleWidgetToggle),e.prototype.setFrame.call(c()(n),document.getElementById(Ce)),window.addEventListener("message",function(){var e=i()(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isMessageFromFrame(t)||!n.isAnswersMessage(t)){e.next=5;break}return e.next=3,n.handleFrameMessage(t);case 3:e.next=6;break;case 5:n.isMessageFromPreload(t)&&n.handlePreloadMessage(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),n.listenToLocationChange(),n.listenToFocusChange(),n}d()(t,e);var n=t.prototype;return n.goToArticle=function(t){e.prototype.goToArticle.call(this,t),this.launcher.setArticleId(t)},n.goToChatList=function(){e.prototype.goToChatList.call(this),this.launcher.setGoToChatList()},n.handlePreloadMessage=function(e){var t=this,n=e.data.__ansWidget;if(n&&n.type===ce.WidgetMessageType.ACTIVE_CHAT_COUNT)this.activeChatCount=n.data.count,this.hasActiveChatRequests.forEach((function(e){return e(!!t.activeChatCount)})),this.hasActiveChatRequests=[],this.launcher.setHasActiveChat(!!this.activeChatCount),this.activeChatCount&&this.launcher.maybeInitFrameSrc()},n.handleFrameMessage=function(){var t=i()(f().mark((function t(n){var o,i=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.prototype.handleFrameMessage.call(this,n),!n.data.closeWidget){t.next=6;break}this.close(),this.frame.src=this.frame.src,t.next=24;break;case 6:if(!n.data.__ansWidget){t.next=24;break}o=n.data.__ansWidget,t.t0=o.type,t.next=t.t0===ce.WidgetMessageType.CHAT_MESSAGE_RECEIVED?11:t.t0===ce.WidgetMessageType.VIEW_LOADED?14:t.t0===ce.WidgetMessageType.UPDATE_DRAG_AREA?16:t.t0===ce.WidgetMessageType.AUTHENTICATION_REQUEST?18:t.t0===ce.WidgetMessageType.COLLAPSE_WIDGET?20:t.t0===ce.WidgetMessageType.DISPLAY_IMAGE?22:24;break;case 11:return this.launcher.isVisible||this.launcher.incrementUnreadMessageCount(),t.abrupt("break",24);case 14:return this.onViewLoaded(),t.abrupt("break",24);case 16:return this.launcher.updateDragArea(o.data.dragAreaPolygonPoints,o.data.dragAreaHeight),t.abrupt("break",24);case 18:return this.authenticator?this.getToken().then((function(e){i.sendScopedPostMessage({type:ce.WidgetMessageType.AUTHENTICATION_RESPONSE,data:{token:e.token,fetchTime:e.fetchTime}})})):this.sendScopedPostMessage({type:ce.WidgetMessageType.AUTHENTICATION_RESPONSE,data:{token:""}}),t.abrupt("break",24);case 20:return this.toggle(!1),t.abrupt("break",24);case 22:return this.launcher.mediaViewer.show(o.data.src),t.abrupt("break",24);case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.restoreOpen=function(e){e&&this.open()},n.restoreModals=function(e,t,n){var o=this;null==e||e.forEach((function(e){switch(e){case Z.CALLBACK:o.goToCallback();break;case Z.CHAT:t===X.LIST?o.goToChatList():o.goToChat(n);break;case Z.EMAIL:o.goToContact()}}))},n.restorePage=function(e){var t,n;switch(null==e?void 0:e.page){case q.ARTICLE:null!=(t=e.additionalData)&&t.articleId&&this.goToArticle(e.additionalData.articleId);break;case q.CATEGORY:null!=(n=e.additionalData)&&n.categoryId&&this.goToCategory(e.additionalData.categoryId)}},n.isMessageFromPreload=function(e){return this.launcher&&this.launcher.viewPreload&&this.launcher.viewPreload.element&&e.source===this.launcher.viewPreload.element.contentWindow},n.moveFrame=function(e,t){var n=document.getElementById(t),o=document.getElementById(e);if(o&&n)for(;o.childNodes.length>0;)n.appendChild(o.childNodes[0])},n.onViewLoaded=function(){var t=this.sdkMemory,n=t.authenticatorAdded,o=t.location,i=t.focusState,r=t.isOpen;this.sendScopedPostMessage({type:ce.WidgetMessageType.LOCATION_CHANGED,data:o}),this.sendScopedPostMessage({type:ce.WidgetMessageType.WINDOW_FOCUS,data:{hasFocus:i}}),this.sendScopedPostMessage({type:ce.WidgetMessageType.WIDGET_OPEN,data:{isOpen:r}}),e.prototype.onViewLoaded.call(this),n&&this.sendScopedPostMessage({type:ce.WidgetMessageType.AUTHENTICATOR_ADDED,data:{}})},t}(ce.AnswersWidget),he=[],ue=[],pe=[],fe=[],ge={},Te=window,me="frame-container",Ce="answers-widget-frame";try{(se=JSON.parse("{\"baseUrl\":\"https://wix.wixanswers.com/apps/widget/v1/wix/18e3c885-6d02-428a-9619-3d342f6cda66\",\"locale\":\"en\",\"isRtl\":false,\"color\":\"#086CBB\",\"convex\":2,\"icon\":\"%0A%3Csvg%20width=%2216%22%20height=%2226%22%20fill=%22currentColor%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20fill-rule=%22evenodd%22%20clip-rule=%22evenodd%22%20d=%22M13.551%202.534C12.031%201.429%2010.103.867%207.825.867c-1.748%200-3.249.399-4.461%201.184C1.584%203.19.559%205.35.311%207.964a.648.648%200%2000.652.696h3.765c.328%200%20.603-.24.643-.565.077-.634.28-1.353.604-1.872.39-.625%201.054-.928%202.031-.928.994%200%201.672.248%202.018.736.382.542.568%201.125.568%201.785%200%20.56-.164%201.058-.506%201.534-.186.273-.438.53-.756.77l-1.06.837c-1.119.88-1.8%201.65-2.083%202.36-.232.579-.545%201.201-.671%202.427a.657.657%200%2000.65.723h3.71a.659.659%200%2000.65-.593c.028-.245.075-.362.14-.572.16-.506.478-.943.976-1.333l1.033-.807c1.09-.856%201.814-1.549%202.207-2.113.681-.941%201.027-2.108%201.027-3.468%200-2.21-.794-3.909-2.358-5.047zm-3.71%2022.6H6.376a.867.867%200%2001-.866-.867V20.8c0-.48.388-.867.866-.867h3.467c.48%200%20.867.388.867.867v3.467a.866.866%200%2001-.867.866z%22/%3E%3C/svg%3E%0A\",\"position\":\"right\",\"textColor\":\"#FFFFFF\",\"articleId\":\"\",\"categoryId\":\"\",\"restrictedWidget\":false,\"draggable\":false,\"width\":20,\"tooltipDelay\":0,\"showTooltip\":false,\"isChatEnabled\":false,\"newWidgetOverride\":false,\"launcherAriaLabel\":\"Need Help? Open Help Widget\"}")).tooltipContent="Hi! 👋 <br/>Do you need some help getting started with our amazing set of stunning products? Click to talk"}catch(e){}var Ee=Te.AnswersWidget?Te.AnswersWidget.queue:[];Te.AnswersWidget=new de(se);try{Ee.forEach((function(e){return e()}))}catch(e){console.log("Failed to execute callback: ",e)}navigator.sendBeacon(se.baseUrl+"/bi/"+se.locale+"?referral_url=https%3A%2F%2Fmanage.wix.com%2F&client_id=0d3117ac-27c8-483f-b26e-9c2aeb49c61f&tenant_id=12345678-1234-1234-1234-1234567890ab&answers_brand_id=12345678-1234-1234-1234-1234567890ab&date="+Date.now())}()}();
//# sourceMappingURL=embed.bundle.min.js.map